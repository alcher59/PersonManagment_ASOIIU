<div class="page-title">
    <h4>Должности</h4>
</div>

<div class="row" *ngIf="positions$ | async as positions; else loader">
    <form [formGroup]="form" (ngSubmit)="submit()">
        <mat-form-field appearance="outline" class="example-full-width">
            <input matInput placeholder="Введите наименование должности" formControlName="name" [value]="positionsRef.selectedOptions.selected[0]?.value">
        </mat-form-field>
        <button mat-flat-button color="primary" type="submit">Добавить</button>
    </form>
    <mat-selection-list #positionsRef [multiple]="false">
        <mat-list-option *ngFor="let position of positions" [value]="position.Id">
            {{position.Name}}
        </mat-list-option>
    </mat-selection-list>
</div>

<ng-template #loader>
    <app-loader></app-loader>
</ng-template>
